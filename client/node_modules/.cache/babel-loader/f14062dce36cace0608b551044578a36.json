{"ast":null,"code":"/**\n * @cypress/react18 v0.0.0-development\n * (c) 2022 Cypress.io\n * Released under the MIT License\n */\nimport ReactDOM from 'react-dom/client';\nimport * as React from 'react';\nimport 'react-dom';\nconst cachedDisplayNames = new WeakMap();\n/**\r\n * Gets the display name of the component when possible.\r\n * @param type {JSX} The type object returned from creating the react element.\r\n * @param fallbackName {string} The alias, or fallback name to use when the name cannot be derived.\r\n * @link https://github.com/facebook/react-devtools/blob/master/backend/getDisplayName.js\r\n */\n\nfunction getDisplayName(type, fallbackName = 'Unknown') {\n  const nameFromCache = cachedDisplayNames.get(type);\n\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName = null; // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  }\n\n  if (!displayName) {\n    displayName = type.name || fallbackName;\n  } // Facebook-specific hack to turn \"Image [from Image.react]\" into just \"Image\".\n  // We need displayName with module name for error reports but it clutters the DevTools.\n\n\n  const match = displayName.match(/^(.*) \\[from (.*)\\]$/);\n\n  if (match) {\n    const componentName = match[1];\n    const moduleName = match[2];\n\n    if (componentName && moduleName) {\n      if (moduleName === componentName || moduleName.startsWith(`${componentName}.`)) {\n        displayName = componentName;\n      }\n    }\n  }\n\n  try {\n    cachedDisplayNames.set(type, displayName);\n  } catch (e) {// do nothing\n  }\n\n  return displayName;\n}\n\nconst ROOT_SELECTOR = '[data-cy-root]';\n\nconst getContainerEl = () => {\n  const el = document.querySelector(ROOT_SELECTOR);\n\n  if (el) {\n    return el;\n  }\n\n  throw Error(`No element found that matches selector ${ROOT_SELECTOR}. Please add a root element with data-cy-root attribute to your \"component-index.html\" file so that Cypress can attach your component to the DOM.`);\n};\n/**\n * Remove any style or extra link elements from the iframe placeholder\n * left from any previous test\n *\n */\n\n\nfunction cleanupStyles() {\n  const styles = document.body.querySelectorAll('[data-cy=injected-style-tag]');\n  styles.forEach(styleElement => {\n    if (styleElement.parentElement) {\n      styleElement.parentElement.removeChild(styleElement);\n    }\n  });\n  const links = document.body.querySelectorAll('[data-cy=injected-stylesheet]');\n  links.forEach(link => {\n    if (link.parentElement) {\n      link.parentElement.removeChild(link);\n    }\n  });\n}\n/**\n * Insert links to external style resources.\n */\n\n\nfunction insertStylesheets(stylesheets, document, el) {\n  stylesheets.forEach(href => {\n    const link = document.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = href;\n    link.dataset.cy = 'injected-stylesheet';\n    document.body.insertBefore(link, el);\n  });\n}\n/**\n * Inserts a single stylesheet element\n */\n\n\nfunction insertStyles(styles, document, el) {\n  styles.forEach(style => {\n    const styleElement = document.createElement('style');\n    styleElement.dataset.cy = 'injected-style-tag';\n    styleElement.appendChild(document.createTextNode(style));\n    document.body.insertBefore(styleElement, el);\n  });\n}\n\nfunction insertSingleCssFile(cssFilename, document, el, log) {\n  return cy.readFile(cssFilename, {\n    log\n  }).then(css => {\n    const style = document.createElement('style');\n    style.appendChild(document.createTextNode(css));\n    document.body.insertBefore(style, el);\n  });\n}\n/**\n * Reads the given CSS file from local file system\n * and adds the loaded style text as an element.\n */\n\n\nfunction insertLocalCssFiles(cssFilenames, document, el, log) {\n  return Cypress.Promise.mapSeries(cssFilenames, cssFilename => {\n    return insertSingleCssFile(cssFilename, document, el, log);\n  });\n}\n/**\n * Injects custom style text or CSS file or 3rd party style resources\n * into the given document.\n */\n\n\nconst injectStylesBeforeElement = (options, document, el) => {\n  if (!el) return; // first insert all stylesheets as Link elements\n\n  let stylesheets = [];\n\n  if (typeof options.stylesheet === 'string') {\n    stylesheets.push(options.stylesheet);\n  } else if (Array.isArray(options.stylesheet)) {\n    stylesheets = stylesheets.concat(options.stylesheet);\n  }\n\n  if (typeof options.stylesheets === 'string') {\n    options.stylesheets = [options.stylesheets];\n  }\n\n  if (options.stylesheets) {\n    stylesheets = stylesheets.concat(options.stylesheets);\n  }\n\n  insertStylesheets(stylesheets, document, el); // insert any styles as <style>...</style> elements\n\n  let styles = [];\n\n  if (typeof options.style === 'string') {\n    styles.push(options.style);\n  } else if (Array.isArray(options.style)) {\n    styles = styles.concat(options.style);\n  }\n\n  if (typeof options.styles === 'string') {\n    styles.push(options.styles);\n  } else if (Array.isArray(options.styles)) {\n    styles = styles.concat(options.styles);\n  }\n\n  insertStyles(styles, document, el); // now load any css files by path and add their content\n  // as <style>...</style> elements\n\n  let cssFiles = [];\n\n  if (typeof options.cssFile === 'string') {\n    cssFiles.push(options.cssFile);\n  } else if (Array.isArray(options.cssFile)) {\n    cssFiles = cssFiles.concat(options.cssFile);\n  }\n\n  if (typeof options.cssFiles === 'string') {\n    cssFiles.push(options.cssFiles);\n  } else if (Array.isArray(options.cssFiles)) {\n    cssFiles = cssFiles.concat(options.cssFiles);\n  }\n\n  return insertLocalCssFiles(cssFiles, document, el, options.log);\n};\n\nfunction setupHooks(optionalCallback) {\n  // Consumed by the framework \"mount\" libs. A user might register their own mount in the scaffolded 'commands.js'\n  // file that is imported by e2e and component support files by default. We don't want CT side effects to run when e2e\n  // testing so we early return.\n  // System test to verify CT side effects do not pollute e2e: system-tests/test/e2e_with_mount_import_spec.ts\n  if (Cypress.testingType !== 'component') {\n    return;\n  } // When running component specs, we cannot allow \"cy.visit\"\n  // because it will wipe out our preparation work, and does not make much sense\n  // thus we overwrite \"cy.visit\" to throw an error\n\n\n  Cypress.Commands.overwrite('visit', () => {\n    throw new Error('cy.visit from a component spec is not allowed');\n  }); // @ts-ignore\n\n  Cypress.on('test:before:run', () => {\n    optionalCallback === null || optionalCallback === void 0 ? void 0 : optionalCallback();\n    cleanupStyles();\n  });\n}\n/**\r\n * Inject custom style text or CSS file or 3rd party style resources\r\n */\n\n\nconst injectStyles = options => {\n  return () => {\n    const el = getContainerEl();\n    return injectStylesBeforeElement(options, document, el);\n  };\n};\n\nlet mountCleanup;\n/**\r\n * Create an `mount` function. Performs all the non-React-version specific\r\n * behavior related to mounting. The React-version-specific code\r\n * is injected. This helps us to maintain a consistent public API\r\n * and handle breaking changes in React's rendering API.\r\n *\r\n * This is designed to be consumed by `npm/react{16,17,18}`, and other React adapters,\r\n * or people writing adapters for third-party, custom adapters.\r\n */\n\nconst makeMountFn = (type, jsx, options = {}, rerenderKey, internalMountOptions) => {\n  if (!internalMountOptions) {\n    throw Error('internalMountOptions must be provided with `render` and `reactDom` parameters');\n  }\n\n  mountCleanup = internalMountOptions.cleanup; // Get the display name property via the component constructor\n  // @ts-ignore FIXME\n\n  const componentName = getDisplayName(jsx.type, options.alias);\n  const displayName = options.alias || componentName;\n  const jsxComponentName = `<${componentName} ... />`;\n  const message = options.alias ? `${jsxComponentName} as \"${options.alias}\"` : jsxComponentName;\n  return cy.then(injectStyles(options)).then(() => {\n    var _a, _b, _c;\n\n    const reactDomToUse = internalMountOptions.reactDom;\n    const el = getContainerEl();\n\n    if (!el) {\n      throw new Error([`[@cypress/react] ðŸ”¥ Hmm, cannot find root element to mount the component. Searched for ${ROOT_SELECTOR}`].join(' '));\n    }\n\n    const key = rerenderKey !== null && rerenderKey !== void 0 ? rerenderKey : // @ts-ignore provide unique key to the the wrapped component to make sure we are rerendering between tests\n    (((_c = (_b = (_a = Cypress === null || Cypress === void 0 ? void 0 : Cypress.mocha) === null || _a === void 0 ? void 0 : _a.getRunner()) === null || _b === void 0 ? void 0 : _b.test) === null || _c === void 0 ? void 0 : _c.title) || '') + Math.random();\n    const props = {\n      key\n    };\n    const reactComponent = React.createElement(options.strict ? React.StrictMode : React.Fragment, props, jsx); // since we always surround the component with a fragment\n    // let's get back the original component\n\n    const userComponent = reactComponent.props.children;\n    internalMountOptions.render(reactComponent, el, reactDomToUse);\n\n    if (options.log !== false) {\n      Cypress.log({\n        name: type,\n        type: 'parent',\n        message: [message],\n        // @ts-ignore\n        $el: el.children.item(0),\n        consoleProps: () => {\n          return {\n            // @ts-ignore protect the use of jsx functional components use ReactNode\n            props: jsx.props,\n            description: type === 'mount' ? 'Mounts React component' : 'Rerenders mounted React component',\n            home: 'https://github.com/cypress-io/cypress'\n          };\n        }\n      }).snapshot('mounted').end();\n    }\n\n    return (// Separate alias and returned value. Alias returns the component only, and the thenable returns the additional functions\n      cy.wrap(userComponent, {\n        log: false\n      }).as(displayName).then(() => {\n        return cy.wrap({\n          component: userComponent,\n          rerender: newComponent => makeMountFn('rerender', newComponent, options, key, internalMountOptions),\n          unmount: internalMountOptions.unmount\n        }, {\n          log: false\n        });\n      }) // by waiting, we delaying test execution for the next tick of event loop\n      // and letting hooks and component lifecycle methods to execute mount\n      // https://github.com/bahmutov/cypress-react-unit-test/issues/200\n      .wait(0, {\n        log: false\n      })\n    ); // Bluebird types are terrible. I don't think the return type can be carried without this cast\n  });\n};\n/**\r\n * Create an `unmount` function. Performs all the non-React-version specific\r\n * behavior related to unmounting.\r\n *\r\n * This is designed to be consumed by `npm/react{16,17,18}`, and other React adapters,\r\n * or people writing adapters for third-party, custom adapters.\r\n */\n\n\nconst makeUnmountFn = options => {\n  return cy.then(() => {\n    var _a;\n\n    const wasUnmounted = mountCleanup === null || mountCleanup === void 0 ? void 0 : mountCleanup();\n\n    if (wasUnmounted && options.log) {\n      Cypress.log({\n        name: 'unmount',\n        type: 'parent',\n        message: [(_a = options.boundComponentMessage) !== null && _a !== void 0 ? _a : 'Unmounted component'],\n        consoleProps: () => {\n          return {\n            description: 'Unmounts React component',\n            parent: getContainerEl().parentNode,\n            home: 'https://github.com/cypress-io/cypress'\n          };\n        }\n      });\n    }\n  });\n}; // Cleanup before each run\n// NOTE: we cannot use unmount here because\n// we are not in the context of a test\n\n\nconst preMountCleanup = () => {\n  mountCleanup === null || mountCleanup === void 0 ? void 0 : mountCleanup();\n}; // Side effects from \"import { mount } from '@cypress/<my-framework>'\" are annoying, we should avoid doing this\n// by creating an explicit function/import that the user can register in their 'component.js' support file,\n// such as:\n//    import 'cypress/<my-framework>/support'\n// or\n//    import { registerCT } from 'cypress/<my-framework>'\n//    registerCT()\n// Note: This would be a breaking change\n// it is required to unmount component in beforeEach hook in order to provide a clean state inside test\n// because `mount` can be called after some preparation that can side effect unmount\n// @see npm/react/cypress/component/advanced/set-timeout-example/loading-indicator-spec.js\n\n\nsetupHooks(preMountCleanup);\nconst debug = typeof process === 'object' && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG) ? (...args) => console.error('SEMVER', ...args) : () => {};\nvar debug_1 = debug; // Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\n\nconst SEMVER_SPEC_VERSION = '2.0.0';\nconst MAX_LENGTH$1 = 256;\nconst MAX_SAFE_INTEGER$1 = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */\n9007199254740991; // Max safe segment length for coercion.\n\nconst MAX_SAFE_COMPONENT_LENGTH = 16;\nvar constants = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH: MAX_LENGTH$1,\n  MAX_SAFE_INTEGER: MAX_SAFE_INTEGER$1,\n  MAX_SAFE_COMPONENT_LENGTH\n};\n\nfunction createCommonjsModule(fn) {\n  var module = {\n    exports: {}\n  };\n  return fn(module, module.exports), module.exports;\n}\n\ncreateCommonjsModule(function (module, exports) {\n  const {\n    MAX_SAFE_COMPONENT_LENGTH\n  } = constants;\n  exports = module.exports = {}; // The actual regexps go on exports.re\n\n  const re = exports.re = [];\n  const src = exports.src = [];\n  const t = exports.t = {};\n  let R = 0;\n\n  const createToken = (name, value, isGlobal) => {\n    const index = R++;\n    debug_1(name, index, value);\n    t[name] = index;\n    src[index] = value;\n    re[index] = new RegExp(value, isGlobal ? 'g' : undefined);\n  }; // The following Regular Expressions can be used for tokenizing,\n  // validating, and parsing SemVer version strings.\n  // ## Numeric Identifier\n  // A single `0`, or a non-zero digit followed by zero or more digits.\n\n\n  createToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*');\n  createToken('NUMERICIDENTIFIERLOOSE', '[0-9]+'); // ## Non-numeric Identifier\n  // Zero or more digits, followed by a letter or hyphen, and then zero or\n  // more letters, digits, or hyphens.\n\n  createToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'); // ## Main Version\n  // Three dot-separated numeric identifiers.\n\n  createToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` + `(${src[t.NUMERICIDENTIFIER]})\\\\.` + `(${src[t.NUMERICIDENTIFIER]})`);\n  createToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` + `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` + `(${src[t.NUMERICIDENTIFIERLOOSE]})`); // ## Pre-release Version Identifier\n  // A numeric identifier, or a non-numeric identifier.\n\n  createToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]}|${src[t.NONNUMERICIDENTIFIER]})`);\n  createToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]}|${src[t.NONNUMERICIDENTIFIER]})`); // ## Pre-release Version\n  // Hyphen, followed by one or more dot-separated pre-release version\n  // identifiers.\n\n  createToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`);\n  createToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`); // ## Build Metadata Identifier\n  // Any combination of digits, letters, or hyphens.\n\n  createToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+'); // ## Build Metadata\n  // Plus sign, followed by one or more period-separated build metadata\n  // identifiers.\n\n  createToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`); // ## Full Version String\n  // A main version, followed optionally by a pre-release version and\n  // build metadata.\n  // Note that the only major, minor, patch, and pre-release sections of\n  // the version string are capturing groups.  The build metadata is not a\n  // capturing group, because it should not ever be used in version\n  // comparison.\n\n  createToken('FULLPLAIN', `v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);\n  createToken('FULL', `^${src[t.FULLPLAIN]}$`); // like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n  // also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n  // common in the npm registry.\n\n  createToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);\n  createToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`);\n  createToken('GTLT', '((?:<|>)?=?)'); // Something like \"2.*\" or \"1.2.x\".\n  // Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n  // Only the first item is strictly required.\n\n  createToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`);\n  createToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`);\n  createToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` + `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` + `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` + `(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?` + `)?)?`);\n  createToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` + `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` + `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` + `(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?` + `)?)?`);\n  createToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`);\n  createToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`); // Coercion.\n  // Extract anything that could conceivably be a part of a valid semver\n\n  createToken('COERCE', `${'(^|[^\\\\d])' + '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` + `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` + `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` + `(?:$|[^\\\\d])`);\n  createToken('COERCERTL', src[t.COERCE], true); // Tilde ranges.\n  // Meaning is \"reasonably at or greater than\"\n\n  createToken('LONETILDE', '(?:~>?)');\n  createToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true);\n  exports.tildeTrimReplace = '$1~';\n  createToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);\n  createToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`); // Caret ranges.\n  // Meaning is \"at least and backwards compatible with\"\n\n  createToken('LONECARET', '(?:\\\\^)');\n  createToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true);\n  exports.caretTrimReplace = '$1^';\n  createToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);\n  createToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`); // A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\n\n  createToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`);\n  createToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`); // An expression to strip any whitespace between the gtlt and the thing\n  // it modifies, so that `> 1.2.3` ==> `>1.2.3`\n\n  createToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true);\n  exports.comparatorTrimReplace = '$1$2$3'; // Something like `1.2.3 - 1.2.4`\n  // Note that these all use the loose form, because they'll be\n  // checked against either the strict or loose comparator form\n  // later.\n\n  createToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` + `\\\\s+-\\\\s+` + `(${src[t.XRANGEPLAIN]})` + `\\\\s*$`);\n  createToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` + `\\\\s+-\\\\s+` + `(${src[t.XRANGEPLAINLOOSE]})` + `\\\\s*$`); // Star ranges basically just allow anything at all.\n\n  createToken('STAR', '(<|>)?=?\\\\s*\\\\*'); // >=0.0.0 is like a star\n\n  createToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$');\n  createToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$');\n}); // @ts-expect-error\n\nlet root;\n\nconst cleanup = () => {\n  if (root) {\n    root.unmount();\n    return true;\n  }\n\n  return false;\n};\n\nfunction mount(jsx, options = {}, rerenderKey) {\n  const internalOptions = {\n    reactDom: ReactDOM,\n    render: (reactComponent, el) => {\n      root = ReactDOM.createRoot(el);\n      return root.render(reactComponent);\n    },\n    unmount,\n    cleanup\n  };\n  return makeMountFn('mount', jsx, Object.assign({\n    ReactDom: ReactDOM\n  }, options), rerenderKey, internalOptions);\n}\n\nfunction unmount(options = {\n  log: true\n}) {\n  return makeUnmountFn(options);\n}\n\nexport { mount, unmount };","map":{"version":3,"names":["ReactDOM","React","cachedDisplayNames","WeakMap","getDisplayName","type","fallbackName","nameFromCache","get","displayName","name","match","componentName","moduleName","startsWith","set","e","ROOT_SELECTOR","getContainerEl","el","document","querySelector","Error","cleanupStyles","styles","body","querySelectorAll","forEach","styleElement","parentElement","removeChild","links","link","insertStylesheets","stylesheets","href","createElement","rel","dataset","cy","insertBefore","insertStyles","style","appendChild","createTextNode","insertSingleCssFile","cssFilename","log","readFile","then","css","insertLocalCssFiles","cssFilenames","Cypress","Promise","mapSeries","injectStylesBeforeElement","options","stylesheet","push","Array","isArray","concat","cssFiles","cssFile","setupHooks","optionalCallback","testingType","Commands","overwrite","on","injectStyles","mountCleanup","makeMountFn","jsx","rerenderKey","internalMountOptions","cleanup","alias","jsxComponentName","message","_a","_b","_c","reactDomToUse","reactDom","join","key","mocha","getRunner","test","title","Math","random","props","reactComponent","strict","StrictMode","Fragment","userComponent","children","render","$el","item","consoleProps","description","home","snapshot","end","wrap","as","component","rerender","newComponent","unmount","wait","makeUnmountFn","wasUnmounted","boundComponentMessage","parent","parentNode","preMountCleanup","debug","process","env","NODE_DEBUG","args","console","error","debug_1","SEMVER_SPEC_VERSION","MAX_LENGTH$1","MAX_SAFE_INTEGER$1","Number","MAX_SAFE_INTEGER","MAX_SAFE_COMPONENT_LENGTH","constants","MAX_LENGTH","createCommonjsModule","fn","module","exports","re","src","t","R","createToken","value","isGlobal","index","RegExp","undefined","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","root","mount","internalOptions","createRoot","Object","assign","ReactDom"],"sources":["/Users/juan.mayobre/Library/Mobile Documents/com~apple~CloudDocs/DEV/circle ci /circleci-react-app/client/node_modules/cypress/react18/dist/cypress-react.esm-bundler.js"],"sourcesContent":["\n/**\n * @cypress/react18 v0.0.0-development\n * (c) 2022 Cypress.io\n * Released under the MIT License\n */\n\nimport ReactDOM from 'react-dom/client';\nimport * as React from 'react';\nimport 'react-dom';\n\nconst cachedDisplayNames = new WeakMap();\r\n/**\r\n * Gets the display name of the component when possible.\r\n * @param type {JSX} The type object returned from creating the react element.\r\n * @param fallbackName {string} The alias, or fallback name to use when the name cannot be derived.\r\n * @link https://github.com/facebook/react-devtools/blob/master/backend/getDisplayName.js\r\n */\r\nfunction getDisplayName(type, fallbackName = 'Unknown') {\r\n    const nameFromCache = cachedDisplayNames.get(type);\r\n    if (nameFromCache != null) {\r\n        return nameFromCache;\r\n    }\r\n    let displayName = null;\r\n    // The displayName property is not guaranteed to be a string.\r\n    // It's only safe to use for our purposes if it's a string.\r\n    // github.com/facebook/react-devtools/issues/803\r\n    if (typeof type.displayName === 'string') {\r\n        displayName = type.displayName;\r\n    }\r\n    if (!displayName) {\r\n        displayName = type.name || fallbackName;\r\n    }\r\n    // Facebook-specific hack to turn \"Image [from Image.react]\" into just \"Image\".\r\n    // We need displayName with module name for error reports but it clutters the DevTools.\r\n    const match = displayName.match(/^(.*) \\[from (.*)\\]$/);\r\n    if (match) {\r\n        const componentName = match[1];\r\n        const moduleName = match[2];\r\n        if (componentName && moduleName) {\r\n            if (moduleName === componentName ||\r\n                moduleName.startsWith(`${componentName}.`)) {\r\n                displayName = componentName;\r\n            }\r\n        }\r\n    }\r\n    try {\r\n        cachedDisplayNames.set(type, displayName);\r\n    }\r\n    catch (e) {\r\n        // do nothing\r\n    }\r\n    return displayName;\r\n}\n\nconst ROOT_SELECTOR = '[data-cy-root]';\nconst getContainerEl = () => {\n    const el = document.querySelector(ROOT_SELECTOR);\n    if (el) {\n        return el;\n    }\n    throw Error(`No element found that matches selector ${ROOT_SELECTOR}. Please add a root element with data-cy-root attribute to your \"component-index.html\" file so that Cypress can attach your component to the DOM.`);\n};\n/**\n * Remove any style or extra link elements from the iframe placeholder\n * left from any previous test\n *\n */\nfunction cleanupStyles() {\n    const styles = document.body.querySelectorAll('[data-cy=injected-style-tag]');\n    styles.forEach((styleElement) => {\n        if (styleElement.parentElement) {\n            styleElement.parentElement.removeChild(styleElement);\n        }\n    });\n    const links = document.body.querySelectorAll('[data-cy=injected-stylesheet]');\n    links.forEach((link) => {\n        if (link.parentElement) {\n            link.parentElement.removeChild(link);\n        }\n    });\n}\n/**\n * Insert links to external style resources.\n */\nfunction insertStylesheets(stylesheets, document, el) {\n    stylesheets.forEach((href) => {\n        const link = document.createElement('link');\n        link.type = 'text/css';\n        link.rel = 'stylesheet';\n        link.href = href;\n        link.dataset.cy = 'injected-stylesheet';\n        document.body.insertBefore(link, el);\n    });\n}\n/**\n * Inserts a single stylesheet element\n */\nfunction insertStyles(styles, document, el) {\n    styles.forEach((style) => {\n        const styleElement = document.createElement('style');\n        styleElement.dataset.cy = 'injected-style-tag';\n        styleElement.appendChild(document.createTextNode(style));\n        document.body.insertBefore(styleElement, el);\n    });\n}\nfunction insertSingleCssFile(cssFilename, document, el, log) {\n    return cy.readFile(cssFilename, { log }).then((css) => {\n        const style = document.createElement('style');\n        style.appendChild(document.createTextNode(css));\n        document.body.insertBefore(style, el);\n    });\n}\n/**\n * Reads the given CSS file from local file system\n * and adds the loaded style text as an element.\n */\nfunction insertLocalCssFiles(cssFilenames, document, el, log) {\n    return Cypress.Promise.mapSeries(cssFilenames, (cssFilename) => {\n        return insertSingleCssFile(cssFilename, document, el, log);\n    });\n}\n/**\n * Injects custom style text or CSS file or 3rd party style resources\n * into the given document.\n */\nconst injectStylesBeforeElement = (options, document, el) => {\n    if (!el)\n        return;\n    // first insert all stylesheets as Link elements\n    let stylesheets = [];\n    if (typeof options.stylesheet === 'string') {\n        stylesheets.push(options.stylesheet);\n    }\n    else if (Array.isArray(options.stylesheet)) {\n        stylesheets = stylesheets.concat(options.stylesheet);\n    }\n    if (typeof options.stylesheets === 'string') {\n        options.stylesheets = [options.stylesheets];\n    }\n    if (options.stylesheets) {\n        stylesheets = stylesheets.concat(options.stylesheets);\n    }\n    insertStylesheets(stylesheets, document, el);\n    // insert any styles as <style>...</style> elements\n    let styles = [];\n    if (typeof options.style === 'string') {\n        styles.push(options.style);\n    }\n    else if (Array.isArray(options.style)) {\n        styles = styles.concat(options.style);\n    }\n    if (typeof options.styles === 'string') {\n        styles.push(options.styles);\n    }\n    else if (Array.isArray(options.styles)) {\n        styles = styles.concat(options.styles);\n    }\n    insertStyles(styles, document, el);\n    // now load any css files by path and add their content\n    // as <style>...</style> elements\n    let cssFiles = [];\n    if (typeof options.cssFile === 'string') {\n        cssFiles.push(options.cssFile);\n    }\n    else if (Array.isArray(options.cssFile)) {\n        cssFiles = cssFiles.concat(options.cssFile);\n    }\n    if (typeof options.cssFiles === 'string') {\n        cssFiles.push(options.cssFiles);\n    }\n    else if (Array.isArray(options.cssFiles)) {\n        cssFiles = cssFiles.concat(options.cssFiles);\n    }\n    return insertLocalCssFiles(cssFiles, document, el, options.log);\n};\nfunction setupHooks(optionalCallback) {\n    // Consumed by the framework \"mount\" libs. A user might register their own mount in the scaffolded 'commands.js'\n    // file that is imported by e2e and component support files by default. We don't want CT side effects to run when e2e\n    // testing so we early return.\n    // System test to verify CT side effects do not pollute e2e: system-tests/test/e2e_with_mount_import_spec.ts\n    if (Cypress.testingType !== 'component') {\n        return;\n    }\n    // When running component specs, we cannot allow \"cy.visit\"\n    // because it will wipe out our preparation work, and does not make much sense\n    // thus we overwrite \"cy.visit\" to throw an error\n    Cypress.Commands.overwrite('visit', () => {\n        throw new Error('cy.visit from a component spec is not allowed');\n    });\n    // @ts-ignore\n    Cypress.on('test:before:run', () => {\n        optionalCallback === null || optionalCallback === void 0 ? void 0 : optionalCallback();\n        cleanupStyles();\n    });\n}\n\n/**\r\n * Inject custom style text or CSS file or 3rd party style resources\r\n */\r\nconst injectStyles = (options) => {\r\n    return () => {\r\n        const el = getContainerEl();\r\n        return injectStylesBeforeElement(options, document, el);\r\n    };\r\n};\r\nlet mountCleanup;\r\n/**\r\n * Create an `mount` function. Performs all the non-React-version specific\r\n * behavior related to mounting. The React-version-specific code\r\n * is injected. This helps us to maintain a consistent public API\r\n * and handle breaking changes in React's rendering API.\r\n *\r\n * This is designed to be consumed by `npm/react{16,17,18}`, and other React adapters,\r\n * or people writing adapters for third-party, custom adapters.\r\n */\r\nconst makeMountFn = (type, jsx, options = {}, rerenderKey, internalMountOptions) => {\r\n    if (!internalMountOptions) {\r\n        throw Error('internalMountOptions must be provided with `render` and `reactDom` parameters');\r\n    }\r\n    mountCleanup = internalMountOptions.cleanup;\r\n    // Get the display name property via the component constructor\r\n    // @ts-ignore FIXME\r\n    const componentName = getDisplayName(jsx.type, options.alias);\r\n    const displayName = options.alias || componentName;\r\n    const jsxComponentName = `<${componentName} ... />`;\r\n    const message = options.alias\r\n        ? `${jsxComponentName} as \"${options.alias}\"`\r\n        : jsxComponentName;\r\n    return cy\r\n        .then(injectStyles(options))\r\n        .then(() => {\r\n        var _a, _b, _c;\r\n        const reactDomToUse = internalMountOptions.reactDom;\r\n        const el = getContainerEl();\r\n        if (!el) {\r\n            throw new Error([\r\n                `[@cypress/react] ðŸ”¥ Hmm, cannot find root element to mount the component. Searched for ${ROOT_SELECTOR}`,\r\n            ].join(' '));\r\n        }\r\n        const key = rerenderKey !== null && rerenderKey !== void 0 ? rerenderKey : \r\n        // @ts-ignore provide unique key to the the wrapped component to make sure we are rerendering between tests\r\n        (((_c = (_b = (_a = Cypress === null || Cypress === void 0 ? void 0 : Cypress.mocha) === null || _a === void 0 ? void 0 : _a.getRunner()) === null || _b === void 0 ? void 0 : _b.test) === null || _c === void 0 ? void 0 : _c.title) || '') + Math.random();\r\n        const props = {\r\n            key,\r\n        };\r\n        const reactComponent = React.createElement(options.strict ? React.StrictMode : React.Fragment, props, jsx);\r\n        // since we always surround the component with a fragment\r\n        // let's get back the original component\r\n        const userComponent = reactComponent.props.children;\r\n        internalMountOptions.render(reactComponent, el, reactDomToUse);\r\n        if (options.log !== false) {\r\n            Cypress.log({\r\n                name: type,\r\n                type: 'parent',\r\n                message: [message],\r\n                // @ts-ignore\r\n                $el: el.children.item(0),\r\n                consoleProps: () => {\r\n                    return {\r\n                        // @ts-ignore protect the use of jsx functional components use ReactNode\r\n                        props: jsx.props,\r\n                        description: type === 'mount' ? 'Mounts React component' : 'Rerenders mounted React component',\r\n                        home: 'https://github.com/cypress-io/cypress',\r\n                    };\r\n                },\r\n            }).snapshot('mounted').end();\r\n        }\r\n        return (\r\n        // Separate alias and returned value. Alias returns the component only, and the thenable returns the additional functions\r\n        cy.wrap(userComponent, { log: false })\r\n            .as(displayName)\r\n            .then(() => {\r\n            return cy.wrap({\r\n                component: userComponent,\r\n                rerender: (newComponent) => makeMountFn('rerender', newComponent, options, key, internalMountOptions),\r\n                unmount: internalMountOptions.unmount,\r\n            }, { log: false });\r\n        })\r\n            // by waiting, we delaying test execution for the next tick of event loop\r\n            // and letting hooks and component lifecycle methods to execute mount\r\n            // https://github.com/bahmutov/cypress-react-unit-test/issues/200\r\n            .wait(0, { log: false }));\r\n        // Bluebird types are terrible. I don't think the return type can be carried without this cast\r\n    });\r\n};\r\n/**\r\n * Create an `unmount` function. Performs all the non-React-version specific\r\n * behavior related to unmounting.\r\n *\r\n * This is designed to be consumed by `npm/react{16,17,18}`, and other React adapters,\r\n * or people writing adapters for third-party, custom adapters.\r\n */\r\nconst makeUnmountFn = (options) => {\r\n    return cy.then(() => {\r\n        var _a;\r\n        const wasUnmounted = mountCleanup === null || mountCleanup === void 0 ? void 0 : mountCleanup();\r\n        if (wasUnmounted && options.log) {\r\n            Cypress.log({\r\n                name: 'unmount',\r\n                type: 'parent',\r\n                message: [(_a = options.boundComponentMessage) !== null && _a !== void 0 ? _a : 'Unmounted component'],\r\n                consoleProps: () => {\r\n                    return {\r\n                        description: 'Unmounts React component',\r\n                        parent: getContainerEl().parentNode,\r\n                        home: 'https://github.com/cypress-io/cypress',\r\n                    };\r\n                },\r\n            });\r\n        }\r\n    });\r\n};\r\n// Cleanup before each run\r\n// NOTE: we cannot use unmount here because\r\n// we are not in the context of a test\r\nconst preMountCleanup = () => {\r\n    mountCleanup === null || mountCleanup === void 0 ? void 0 : mountCleanup();\r\n};\r\n// Side effects from \"import { mount } from '@cypress/<my-framework>'\" are annoying, we should avoid doing this\r\n// by creating an explicit function/import that the user can register in their 'component.js' support file,\r\n// such as:\r\n//    import 'cypress/<my-framework>/support'\r\n// or\r\n//    import { registerCT } from 'cypress/<my-framework>'\r\n//    registerCT()\r\n// Note: This would be a breaking change\r\n// it is required to unmount component in beforeEach hook in order to provide a clean state inside test\r\n// because `mount` can be called after some preparation that can side effect unmount\r\n// @see npm/react/cypress/component/advanced/set-timeout-example/loading-indicator-spec.js\r\nsetupHooks(preMountCleanup);\n\nconst debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {};\n\nvar debug_1 = debug;\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0';\n\nconst MAX_LENGTH$1 = 256;\nconst MAX_SAFE_INTEGER$1 = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991;\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16;\n\nvar constants = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH: MAX_LENGTH$1,\n  MAX_SAFE_INTEGER: MAX_SAFE_INTEGER$1,\n  MAX_SAFE_COMPONENT_LENGTH,\n};\n\nfunction createCommonjsModule(fn) {\n  var module = { exports: {} };\n\treturn fn(module, module.exports), module.exports;\n}\n\ncreateCommonjsModule(function (module, exports) {\nconst { MAX_SAFE_COMPONENT_LENGTH } = constants;\n\nexports = module.exports = {};\n\n// The actual regexps go on exports.re\nconst re = exports.re = [];\nconst src = exports.src = [];\nconst t = exports.t = {};\nlet R = 0;\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++;\n  debug_1(name, index, value);\n  t[name] = index;\n  src[index] = value;\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined);\n};\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*');\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+');\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*');\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`);\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`);\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`);\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`);\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`);\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+');\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`);\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`);\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`);\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`);\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`);\n\ncreateToken('GTLT', '((?:<|>)?=?)');\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`);\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`);\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`);\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`);\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`);\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`);\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`);\ncreateToken('COERCERTL', src[t.COERCE], true);\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)');\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true);\nexports.tildeTrimReplace = '$1~';\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)');\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true);\nexports.caretTrimReplace = '$1^';\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`);\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`);\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true);\nexports.comparatorTrimReplace = '$1$2$3';\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`);\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`);\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*');\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$');\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$');\n});\n\n// @ts-expect-error\r\nlet root;\r\nconst cleanup = () => {\r\n    if (root) {\r\n        root.unmount();\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nfunction mount(jsx, options = {}, rerenderKey) {\r\n    const internalOptions = {\r\n        reactDom: ReactDOM,\r\n        render: (reactComponent, el) => {\r\n            root = ReactDOM.createRoot(el);\r\n            return root.render(reactComponent);\r\n        },\r\n        unmount,\r\n        cleanup,\r\n    };\r\n    return makeMountFn('mount', jsx, Object.assign({ ReactDom: ReactDOM }, options), rerenderKey, internalOptions);\r\n}\r\nfunction unmount(options = { log: true }) {\r\n    return makeUnmountFn(options);\r\n}\n\nexport { mount, unmount };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}